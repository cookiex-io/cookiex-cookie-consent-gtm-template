___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Cookiex Cookie Consent",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAA5CAYAAADZcPW3AAAAwXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVDbDcMwCPxnio5gHnZgHLdJpW7Q8YsDluK2J/nAnHMB4Hi/nnAbIBSQummz1opDTIy6J1oC/WQscvIEJi91YEuZvMQeOa7a8qtZx8WmYPesXoz0kcJ9FUzSX7+MKAKPjka+p5GlEVMImAY9xirNdLuOcD/KCo0Dg0TXtn/um29vr/4fJjoYuTgzSzTA4whwd4FOHg+Rq+fscVTmqL6Qf3uagA/jfFkNS56wRgAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfW6VSqg52EBHNUJ3soiKOtQpFqBBqhVYdTC79giYNSYqLo+BacPBjserg4qyrg6sgCH6AODs4KbpIif9LCi1iPDjux7t7j7t3gL9RYarZFQdUzTLSyYSQza0KwVeEEUIfRjAqMVOfE8UUPMfXPXx8vYvxLO9zf45eJW8ywCcQx5luWMQbxDObls55nzjCSpJCfE48YdAFiR+5Lrv8xrnosJ9nRoxMep44QiwUO1juYFYyVOJp4qiiapTvz7qscN7irFZqrHVP/sJwXltZ5jrNYSSxiCWIECCjhjIqsBCjVSPFRJr2Ex7+IccvkksmVxmMHAuoQoXk+MH/4He3ZmFq0k0KJ4DuF9v+GAOCu0Czbtvfx7bdPAECz8CV1vZXG8DsJ+n1thY9Avq3gYvrtibvAZc7wOCTLhmSIwVo+gsF4P2MvikHDNwCoTW3t9Y+Th+ADHWVugEODoHxImWve7y7p7O3f8+0+vsBkBhysoFv2m4AAA16aVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjA3MjY0MDZiLTU5OWYtNDAzNC1hZDMyLTJjZGU3Yzc3OTVkMyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1ODE3YTg2Zi1kOWEwLTRmZmMtYTk3NS05Y2VkMTEyODcyZGUiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowNGQwODk5Zi1kMGUyLTQzZWUtYTI0Yi1kYzRkYzI4ZDljNWEiCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09Ik1hYyBPUyIKICAgR0lNUDpUaW1lU3RhbXA9IjE3MzM4NDEwNzU0NDIzMDMiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zNCIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0OjEyOjEwVDE1OjMxOjE1KzAxOjAwIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAyNDoxMjoxMFQxNTozMToxNSswMTowMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjY0MTEyZWU4LTA0ZjQtNGEyZi04YWU4LTViNmE5ZmViMGU2ZCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChNYWMgT1MpIgogICAgICBzdEV2dDp3aGVuPSIyMDI0LTEyLTEwVDE1OjMxOjE1KzAxOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PuahnZgAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfoDAoOHw/L9QAvAAAWNklEQVR42u2deXgV1fnHP3NvwmJAoCCg4oqAqPwURLzAxQU3agaVuuFW6w+tiktdqkyq1vqrmMG1Ki5AVbCAirtM1FpbLV40uGBKhCIuUAKlKgKyyZJkfn+cE0jCnDNL5oLU+T7PfZ48uXPP/q7nfd8xyCdKphu4RjEwAjgM2AWoAl4DHsI2/0OCBAl2GIy8tWw57YGJgKl4YhVwKbY5LdmGBAn+mxiA5QwGJgFdfJ50gQnA9djm2mQ7EiTYmRmA5bQC7gCuAFIhfvk5cAm2+XayJQkS7IwMwHKGAfcB+0RswQWeAEqwza+TrfkvhOVcCRQpvn0G21yUhz5HArsqvp2Obc79MW9JQQwLfDgwBjguBmb0v8AwLMcGHsA2NyRU81+Fm4FOiu9mA4vy0KcF7KX4bgmQMICIhN8HuAk4LaS674d2kqFcjeWMAfdx7KHrEtpJ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\u003d\u003d"
  },
  "description": "Manages Google Consent Mode using GTM. Dynamically updates consent states based on user preferences.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "CHECKBOX",
    "name": "ad_storage",
    "checkboxText": "Ad storage",
    "simpleValueType": true,
    "help": "Enables storage, such as cookies, related to advertising",
    "defaultValue": false,
    "displayName": "ad_storage"
  },
  {
    "type": "CHECKBOX",
    "name": "ad_user_data",
    "checkboxText": "Ad user data",
    "simpleValueType": true,
    "help": "Sets consent for sending user data to Google for online advertising purposes",
    "defaultValue": false,
    "displayName": "Ad storage"
  },
  {
    "type": "CHECKBOX",
    "name": "ad_personalization",
    "checkboxText": "Ad personalization",
    "simpleValueType": true,
    "displayName": "Ad personalization",
    "defaultValue": false,
    "help": "Sets consent for personalized advertising"
  },
  {
    "type": "CHECKBOX",
    "name": "analytics_storage",
    "checkboxText": "Analytics storage",
    "simpleValueType": true,
    "defaultValue": false,
    "displayName": "Analytics storage",
    "help": "Enables storage, such as cookies, related to analytics (for example, visit duration)"
  },
  {
    "type": "CHECKBOX",
    "name": "personalization_storage",
    "checkboxText": "Personalization storage",
    "simpleValueType": true,
    "defaultValue": false,
    "displayName": "Personalization storage",
    "help": "Enables storage related to personalization such as video recommendations"
  },
  {
    "type": "CHECKBOX",
    "name": "security_storage",
    "checkboxText": "Security storage",
    "simpleValueType": true,
    "displayName": "Security storage",
    "defaultValue": false,
    "help": "Enables storage related to security such as authentication functionality, fraud prevention, and other user protection"
  },
  {
    "type": "CHECKBOX",
    "name": "ads_data_redaction",
    "checkboxText": "Ads data redaction",
    "simpleValueType": true,
    "defaultValue": false,
    "displayName": "Ads data redaction",
    "help": "When the \\u0027Ad storage\\u0027 consent type is denied, ad click identifiers sent in network requests by Google Ads and Floodlight tags will be redacted. Network requests will also be sent through a cookieless domain"
  },
  {
    "type": "CHECKBOX",
    "name": "url_passthrough",
    "checkboxText": "URL passthrough",
    "simpleValueType": true,
    "displayName": "URL passthrough",
    "defaultValue": false,
    "help": "Will pass through ad click, client ID, and session ID information in URLs"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// The first two lines are optional, use if you want to enable logging
const log = require('logToConsole');
log('data =', data);
const setDefaultConsentState = require('setDefaultConsentState');
const updateConsentState = require('updateConsentState');
const getCookieValues = require('getCookieValues');
const callInWindow = require('callInWindow');
const gtagSet = require('gtagSet');
const COOKIE_NAME = 'cookiex_cookie_consent';
/*
 *   Splits the input string using comma as a delimiter, returning an array of
 *   strings
 */
const splitInput = (input) => {
  return input.split(',')
      .map(entry => entry.trim())
      .filter(entry => entry.length !== 0);
};
/*
 *   Processes a row of input from the default settings table, returning an object
 *   which can be passed as an argument to setDefaultConsentState
 */
const parseCommandData = (settings) => {
  const regions = splitInput(settings['region']);
  const granted = splitInput(settings['granted']);
  const denied = splitInput(settings['denied']);
  const commandData = {};
  if (regions.length > 0) {
    commandData.region = regions;
  }
  granted.forEach(entry => {
    commandData[entry] = 'granted';
  });
  denied.forEach(entry => {
    commandData[entry] = 'denied';
  });
  return commandData;
};
/*
 *   Called when consent changes. Assumes that consent object contains keys which
 *   directly correspond to Google consent types.
 */
const onUserConsent = (consent) => {
  const consentModeStates = {
    ad_storage: consent['adConsentGranted'] ? 'granted' : 'denied',
    ad_user_data: consent['adUserDataConsentGranted'] ? 'granted' : 'denied',
    ad_personalization: consent['adPersonalizationConsentGranted'] ? 'granted' : 'denied',
    analytics_storage: consent['analyticsConsentGranted'] ? 'granted' : 'denied',
    functionality_storage: consent['functionalityConsentGranted'] ? 'granted' : 'denied',
    personalization_storage: consent['personalizationConsentGranted'] ? 'granted' : 'denied',
    security_storage: consent['securityConsentGranted'] ? 'granted' : 'denied',
  };
  updateConsentState(consentModeStates);
};
/*
 *   Executes the default command, sets the developer ID, and sets up the consent
 *   update callback
 */
const main = (data) => {
  /*
   * Optional settings using gtagSet
   */
  gtagSet('ads_data_redaction', data.ads_data_redaction);
  gtagSet('url_passthrough', data.url_passthrough);
  // Set default consent state(s)
  data.defaultSettings.forEach(settings => {
    const defaultData = parseCommandData(settings);
  // wait_for_update (ms) allows for time to receive visitor choices from the CMP
    defaultData.wait_for_update = 500;
    setDefaultConsentState(defaultData);
  });

  // Check if cookie is set and has values that correspond to Google consent
  // types. If it does, run onUserConsent().
  const settings = getCookieValues(COOKIE_NAME);
  if (typeof settings !== 'undefined') {
    onUserConsent(settings);
  }
  /**
   *   Add event listener to trigger update when consent changes
   *
   *   References an external method on the window object which accepts a
   *   function as an argument. If you do not have such a method, you will need
   *   to create one before continuing. This method should add the function
   *   that is passed as an argument as a callback for an event emitted when
   *   the user updates their consent. The callback should be called with an
   *   object containing fields that correspond to the five built-in Google
   *   consent types.
   */
  callInWindow('addCookiexGCMConsentListener', onUserConsent);
};
main(data);
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "write_data_layer",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "cookieNames",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "ad_storage"
              },
              {
                "type": 1,
                "string": "ad_user_data"
              },
              {
                "type": 1,
                "string": "ad_personalization"
              },
              {
                "type": 1,
                "string": "analytics_storage"
              },
              {
                "type": 1,
                "string": "functionality_storage"
              },
              {
                "type": 1,
                "string": "personalization_storage"
              },
              {
                "type": 1,
                "string": "security_storage"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "functionality_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "personalization_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "security_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []
setup: |-
  // Array of callbacks to be executed when consent changes
  const consentListeners = [];

  /**
   *   Called from GTM template to set callback to be executed when user consent is provided.
   *   @param {function} Callback to execute on user consent
   */
  window.addCookiexGCMConsentListener = (callback) => {
    consentListeners.push(callback);
  };

  /**
   *   Called when user grants/denies consent.
   *   @param {Object} Object containing user consent settings.
   */
  const onConsentChange = (consent) => {
    consentListeners.forEach((callback) => {
      callback(consent);
    });
  };


___NOTES___

Created on 12/28/2024, 2:49:10 PM


